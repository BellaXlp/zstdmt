
# Multithreading Library for [LZ4], [LZ5], [ZStandard] and [Lizard]

## Description
- works with skippables frame id 0x184D2A50 (12 bytes per compressed frame)
- three small test utils (which only work @ linux)
- the library itself works on windows already
- multithreaded 7-Zip ZS is currently in testing

## Usage of the Testutils

- see unix
- see windows

## Usage of the Library

- see lib

## Benchmarks

- version 0.1 was used for them

### [LZ4]
Level|Threads|InSize|OutSize|Frames|Real|User|Sys|MaxMem
-----|-------|------|-------|------|----|----|---|------
1|1|211957760|101069667|3235|1.393|1.347|0.42|2096
1|2|211957760|101069667|3235|0.622|1.200|0.39|2096
1|4|211957760|101069667|3235|0.397|1.541|0.30|2096
2|1|211957760|101069667|3235|1.312|1.265|0.43|2096
2|2|211957760|101069667|3235|0.734|1.415|0.44|2096
2|4|211957760|101069667|3235|0.338|1.297|0.41|2248
3|1|211957760|88923937|3235|6.945|6.854|0.61|2096
3|2|211957760|88923937|3235|3.381|6.687|0.47|2096
3|4|211957760|88923937|3235|1.999|7.891|0.64|2712
4|1|211957760|87542131|3235|7.940|7.847|0.58|2096
4|2|211957760|87542131|3235|4.161|8.224|0.62|2096
4|4|211957760|87542131|3235|2.207|8.718|0.61|4796
5|1|211957760|86701884|3235|8.994|8.907|0.51|2096
5|2|211957760|86701884|3235|4.822|9.527|0.72|2096
5|4|211957760|86701884|3235|2.771|10.967|0.61|2844
6|1|211957760|86228097|3235|10.425|10.344|0.42|2096
6|2|211957760|86228097|3235|5.388|10.677|0.57|2096
6|4|211957760|86228097|3235|3.288|13.18|0.63|2720
7|1|211957760|85963374|3235|11.856|11.749|0.61|2096
7|2|211957760|85963374|3235|6.39|11.972|0.58|2096
7|4|211957760|85963374|3235|3.603|14.282|0.61|2760
8|1|211957760|85824153|3235|13.551|13.444|0.56|2096
8|2|211957760|85824153|3235|6.897|13.695|0.43|2096
8|4|211957760|85824153|3235|4.56|16.79|0.65|2976
9|1|211957760|85762795|3235|14.623|14.515|0.54|2096
9|2|211957760|85762795|3235|7.564|15.15|0.55|2096
9|4|211957760|85762795|3235|4.593|18.215|0.68|3000
10|1|211957760|85736453|3235|16.81|15.977|0.44|2096
10|2|211957760|85736453|3235|8.225|16.328|0.54|2096
10|4|211957760|85736453|3235|4.730|18.745|0.79|3144
11|1|211957760|85725904|3235|17.6|16.894|0.48|2096
11|2|211957760|85725904|3235|8.902|17.672|0.62|2096
11|4|211957760|85725904|3235|5.73|20.123|0.58|3700
12|1|211957760|85720684|3235|18.53|17.935|0.54|2096
12|2|211957760|85720684|3235|9.186|18.250|0.54|2096
12|4|211957760|85720684|3235|5.715|22.706|0.52|3536
13|1|211957760|85717239|3235|19.752|19.622|0.60|2096
13|2|211957760|85717239|3235|10.300|20.459|0.61|2164
13|4|211957760|85717239|3235|6.69|24.71|0.91|3672
14|1|211957760|85714803|3235|22.436|22.292|0.66|2096
14|2|211957760|85714803|3235|11.744|23.339|0.57|2448
14|4|211957760|85714803|3235|6.593|26.194|0.61|4104
15|1|211957760|85713782|3235|24.788|24.633|0.72|2096
15|2|211957760|85713782|3235|12.364|24.591|0.50|2968
15|4|211957760|85713782|3235|7.336|29.152|0.59|7400
16|1|211957760|85713635|3235|25.313|25.177|0.50|2096
16|2|211957760|85713635|3235|12.791|25.426|0.62|3744
16|4|211957760|85713635|3235|7.650|30.419|0.46|6840

### [LZ5]
Level|Threads|InSize|OutSize|Frames|Real|User|Sys|MaxMem
-----|-------|------|-------|------|----|----|---|------
1|1|211957760|123117368|3235|1.523|1.466|0.50|2096
1|2|211957760|123118976|3235|0.804|1.554|0.45|2096
1|4|211957760|123118409|3235|0.442|1.707|0.46|2096
2|1|211957760|110989793|3235|2.121|2.71|0.42|2096
2|2|211957760|110990294|3235|1.36|2.22|0.41|2096
2|4|211957760|110990676|3235|0.549|2.136|0.43|2120
3|1|211957760|100263984|3235|2.632|2.589|0.33|2100
3|2|211957760|100264075|3235|1.359|2.663|0.43|2100
3|4|211957760|100263827|3235|0.841|3.305|0.38|2224
4|1|211957760|91372757|3235|4.62|3.982|0.64|2100
4|2|211957760|91372725|3235|2.200|4.331|0.51|2100
4|4|211957760|91372698|3235|1.245|4.897|0.54|2848
5|1|211957760|90471735|3235|4.528|4.454|0.54|2100
5|2|211957760|90471659|3235|2.262|4.452|0.51|2484
5|4|211957760|90471655|3235|1.377|5.404|0.61|4260
6|1|211957760|86823397|3235|13.271|13.164|0.55|2100
6|2|211957760|86823397|3235|6.844|13.570|0.60|2124
6|4|211957760|86823397|3235|4.305|17.59|0.74|9732
7|1|211957760|86367683|3235|13.664|13.551|0.59|2100
7|2|211957760|86367683|3235|6.964|13.821|0.42|4224
7|4|211957760|86367683|3235|4.310|17.75|0.71|5808
8|1|211957760|86228271|3235|14.230|14.103|0.66|3528
8|2|211957760|86228271|3235|7.698|15.258|0.65|9540
8|4|211957760|86228271|3235|5.2|19.785|0.93|12604
9|1|211957760|84279832|3235|32.157|17.532|14.468|36128
9|2|211957760|84279832|3235|18.114|20.801|14.419|67788
9|4|211957760|84279832|3235|15.102|30.357|21.389|134544
10|1|211957760|83448337|3235|33.661|19.69|14.431|34252
10|2|211957760|83448337|3235|21.210|23.979|16.901|70376
10|4|211957760|83448337|3235|13.872|31.216|18.327|139448
11|1|211957760|82198886|3235|46.662|28.395|18.34|34280
11|2|211957760|82198886|3235|23.75|30.545|14.642|67912
11|4|211957760|82198886|3235|15.690|39.594|17.732|136308
12|1|211957760|81284779|3235|59.607|41.422|17.894|35904
12|2|211957760|81284779|3235|29.520|43.461|14.636|67772
12|4|211957760|81284779|3235|20.186|55.754|19.54|134728
13|1|211957760|81940180|3235|81.349|64.895|16.94|36352
13|2|211957760|81940180|3235|44.839|69.904|18.34|71612
13|4|211957760|81940180|3235|28.12|84.279|19.784|142868
14|1|211957760|81560383|3235|89.732|73.370|15.982|36352
14|2|211957760|81560383|3235|48.969|78.345|17.997|73772
14|4|211957760|81560383|3235|29.402|93.96|18.868|144112
15|1|211957760|81490962|3235|598.712|135.637|460.587|1117296
15|2|211957760|81490962|3235|348.964|152.81|528.464|2230196
15|4|211957760|81490962|3235|264.598|191.203|816.42|4399220
16|1|211957760|81490962|3235|595.970|133.238|460.31|1117236
16|2|211957760|81490962|3235|384.303|161.587|588.589|2232060
16|4|211957760|81490962|3235|295.830|206.416|922.797|4419620

### [ZStandard]
Level|Threads|InSize|OutSize|Frames|Real|User|Sys|MaxMem
-----|-------|------|-------|------|----|----|---|------
1|1|211957760|73853773|102|2.694|2.636|0.47|6212
1|2|211957760|73853773|102|1.329|2.579|0.55|11968
1|4|211957760|73853773|102|0.898|3.448|0.84|20412
2|1|211957760|70521776|102|3.104|3.45|0.46|6236
2|2|211957760|70521776|102|1.536|2.995|0.56|11536
2|4|211957760|70521776|102|1.76|4.127|0.96|21444
3|1|211957760|67263553|51|4.265|4.185|0.62|11096
3|2|211957760|67263553|51|2.138|4.171|0.68|22728
3|4|211957760|67263553|51|1.626|6.61|0.101|47928
4|1|211957760|66324953|51|4.642|4.560|0.62|13988
4|2|211957760|66324953|51|2.697|5.266|0.83|30332
4|4|211957760|66324953|51|2.8|7.556|0.120|57040
5|1|211957760|65188167|34|6.892|6.804|0.60|15100
5|2|211957760|65188167|34|3.835|7.403|0.71|29996
5|4|211957760|65188167|34|2.543|9.372|0.76|60748
6|1|211957760|63279533|34|9.109|9.9|0.62|19364
6|2|211957760|63279533|34|5.7|9.793|0.75|38620
6|4|211957760|63279533|34|3.613|13.559|0.98|75180
7|1|211957760|62305767|34|9.966|9.868|0.56|23924
7|2|211957760|62305767|34|6.59|11.905|0.77|47140
7|4|211957760|62305767|34|3.924|14.428|0.106|94540
8|1|211957760|61248190|26|14.264|14.132|0.72|28380
8|2|211957760|61248190|26|7.927|15.427|0.71|55348
8|4|211957760|61248190|26|5.350|19.541|0.129|105360
9|1|211957760|60694170|26|16.305|16.158|0.76|33568
9|2|211957760|60694170|26|10.784|20.648|0.104|66752
9|4|211957760|60694170|26|7.110|26.91|0.162|134808
10|1|211957760|60429156|26|17.495|17.348|0.71|37652
10|2|211957760|60429156|26|10.216|19.839|0.81|76244
10|4|211957760|60429156|26|7.16|26.528|0.146|153452
11|1|211957760|59939304|26|19.225|19.77|0.67|60724
11|2|211957760|59939304|26|11.967|23.53|0.103|122344
11|4|211957760|59939304|26|7.677|29.2|0.150|243604
12|1|211957760|59543345|26|25.706|25.522|0.71|60268
12|2|211957760|59543345|26|15.107|29.754|0.84|122516
12|4|211957760|59543345|26|10.435|39.818|0.162|248232
13|1|211957760|59289863|26|29.759|29.566|0.76|68568
13|2|211957760|59289863|26|18.462|36.283|0.100|141032
13|4|211957760|59289863|26|12.230|46.21|0.154|283432
14|1|211957760|58948339|26|43.408|43.162|0.82|68892
14|2|211957760|58948339|26|27.227|54.62|0.103|145440
14|4|211957760|58948339|26|18.10|69.415|0.162|287508
15|1|211957760|58249793|13|78.811|78.428|0.77|62744
15|2|211957760|58249793|13|47.213|92.540|0.137|123976
15|4|211957760|58249793|13|27.105|100.529|0.144|245424
16|1|211957760|57640281|13|85.943|85.423|0.156|100200
16|2|211957760|57640281|13|48.152|93.87|0.200|199128
16|4|211957760|57640281|13|29.156|106.315|0.237|396972
17|1|211957760|56962464|13|106.187|105.615|0.96|82804
17|2|211957760|56962464|13|56.340|110.251|0.114|164984
17|4|211957760|56962464|13|34.900|127.95|0.160|329420

[LZ4]:https://cyan4973.github.io/lz4/
[LZ5]:https://github.com/inikep/lz5/
[ZStandard]:http://facebook.github.io/zstd/
[Lizard]:https://github.com/inikep/lizard/


/TR 2017-03-26
